# ğŸ“… Jalali Calendar for ERPNext - Complete Documentation

## ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨
1. [Ù…Ø¹Ø±ÙÛŒ](#Ù…Ø¹Ø±ÙÛŒ)
2. [ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§](#ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§)
3. [Ù†ØµØ¨](#Ù†ØµØ¨)
4. [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ](#Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ)
5. [Ø§Ø³ØªÙØ§Ø¯Ù‡](#Ø§Ø³ØªÙØ§Ø¯Ù‡)
6. [API Reference](#api-reference)
7. [Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ](#Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ)
8. [ØªÙˆØ³Ø¹Ù‡](#ØªÙˆØ³Ø¹Ù‡)

## Ù…Ø¹Ø±ÙÛŒ

Jalali Calendar ÛŒÚ© Custom App Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ ERPNext 15 Ø§Ø³Øª Ú©Ù‡ Ù‚Ø§Ø¨Ù„ÛŒØª ØªÙ‚ÙˆÛŒÙ… Ø´Ù…Ø³ÛŒ (Ø¬Ù„Ø§Ù„ÛŒ) Ø±Ø§ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø¯Ø± Ù‡Ø³ØªÙ‡ ERPNext.

### Ù…Ø²Ø§ÛŒØ§
- âœ… Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Core ERPNext
- âœ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒÙ„Ø§Ø¯ÛŒ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
- âœ… Ù†Ù…Ø§ÛŒØ´ Ùˆ ÙˆØ±ÙˆØ¯ÛŒ Ø´Ù…Ø³ÛŒ
- âœ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² List View, Reports, Print
- âœ… Keyboard Shortcuts
- âœ… User/System Settings

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

### ğŸ¯ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
1. **ØªØ¨Ø¯ÛŒÙ„ Ø®ÙˆØ¯Ú©Ø§Ø± ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§**
   - Ù†Ù…Ø§ÛŒØ´ Ø´Ù…Ø³ÛŒ Ø¯Ø± ÙØ±Ù…â€ŒÙ‡Ø§
   - Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒÙ„Ø§Ø¯ÛŒ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³
   - ØªØ¨Ø¯ÛŒÙ„ Ø¯ÙˆØ·Ø±ÙÙ‡ Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø§

2. **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Views**
   - âœ… Form View
   - âœ… List View
   - âœ… Report View
   - âœ… Print Format
   - âœ… Calendar View

3. **ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡**
   - Settings Page Ù…Ø®ØµÙˆØµ
   - User Preferences
   - System-wide Settings
   - Holiday Management

4. **Keyboard Shortcuts**
   - `Ctrl+Shift+T`: ØªØ§Ø±ÛŒØ® Ø§Ù…Ø±ÙˆØ²
   - `Ctrl+Shift+J`: Toggle ØªÙ‚ÙˆÛŒÙ…
   - `Ctrl+Shift+C`: Ù†Ù…Ø§ÛŒØ´ ØªÙ‚ÙˆÛŒÙ… Ù…Ø§Ù‡

5. **API Ú©Ø§Ù…Ù„**
   - REST API endpoints
   - Jinja filters
   - Python API
   - JavaScript API

## Ù†ØµØ¨

### Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§
```bash
- ERPNext 15+
- Python 3.8+
- Node.js 14+
```

### Ù†ØµØ¨ Ø®ÙˆØ¯Ú©Ø§Ø±
```bash
cd frappe-bench
chmod +x install_enhanced.sh
./install_enhanced.sh
```

### Ù†ØµØ¨ Ø¯Ø³ØªÛŒ
```bash
# 1. Clone repository
cd frappe-bench/apps
git clone https://github.com/yourusername/jalali_calendar

# 2. Install Python dependencies
pip install persiantools jdatetime

# 3. Install app
bench --site your-site install-app jalali_calendar

# 4. Build assets
bench build --app jalali_calendar

# 5. Clear cache & restart
bench clear-cache
bench restart
```

## Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

### 1. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³ÛŒØ³ØªÙ…ÛŒ
```
Settings > Jalali Calendar Settings
```

#### ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:
- **ÙØ¹Ø§Ù„**: Ø±ÙˆØ´Ù†/Ø®Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù† Ú©Ù„ Ø³ÛŒØ³ØªÙ…
- **Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†**: Ø§Ø¹Ù…Ø§Ù„ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
- **ÙØ±Ù…Øª ØªØ§Ø±ÛŒØ®**: YYYY/MM/DD ÛŒØ§ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±
- **Ù†Ù…Ø§ÛŒØ´ ØªØ¹Ø·ÛŒÙ„Ø§Øª**: Ù†Ù…Ø§ÛŒØ´ ØªØ¹Ø·ÛŒÙ„Ø§Øª Ø±Ø³Ù…ÛŒ

### 2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ø§Ø±Ø¨Ø±
```
User > [Select User] > Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªÙ‚ÙˆÛŒÙ… Ø´Ù…Ø³ÛŒ
```

### 3. ØªØ¹Ø·ÛŒÙ„Ø§Øª Ø±Ø³Ù…ÛŒ
Ø¯Ø± Settings Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªØ¹Ø·ÛŒÙ„Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯:
```python
{
    "date": "01/01",
    "title": "Ø¹ÛŒØ¯ Ù†ÙˆØ±ÙˆØ²",
    "recurring": true
}
```

## Ø§Ø³ØªÙØ§Ø¯Ù‡

### Ø¯Ø± Forms
ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Date/Datetime Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø±:
- **Ù†Ù…Ø§ÛŒØ´**: Ø¨Ù‡ Ø´Ù…Ø³ÛŒ
- **ÙˆØ±ÙˆØ¯ÛŒ**: Ø´Ù…Ø³ÛŒ Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„
- **Ø°Ø®ÛŒØ±Ù‡**: ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù…ÛŒÙ„Ø§Ø¯ÛŒ

### Ø¯Ø± Reports
ÙÛŒÙ„ØªØ±Ù‡Ø§ Ùˆ Ù†ØªØ§ÛŒØ¬ Ø¨Ù‡ ØµÙˆØ±Øª Ø´Ù…Ø³ÛŒ:
```javascript
// ÙÛŒÙ„ØªØ± Ø¨Ø§ ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ
filters: {
    from_date: "1403/01/01",
    to_date: "1403/01/31"
}
```

### Ø¯Ø± Print Format
Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Jinja filters:
```jinja
<!-- ØªØ§Ø±ÛŒØ® Ú©ÙˆØªØ§Ù‡ -->
{{ doc.posting_date | to_jalali }}

<!-- ØªØ§Ø±ÛŒØ® Ø¨Ù„Ù†Ø¯ -->
{{ doc.posting_date | to_jalali("long") }}

<!-- ÙØ±Ù…Øª Ø¯Ù„Ø®ÙˆØ§Ù‡ -->
{{ doc.posting_date | jalali_format("DD MMMM YYYY") }}
```

### Ø¯Ø± Custom Scripts
```javascript
// ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø´Ù…Ø³ÛŒ
frappe.call({
    method: 'jalali_calendar.jalali_calendar.api_enhanced.convert_to_jalali',
    args: { gregorian_date: '2024-01-15' },
    callback: function(r) {
        console.log(r.message.date); // 1402/10/25
    }
});

// ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù…ÛŒÙ„Ø§Ø¯ÛŒ
jalali_calendar.sync_convert_to_gregorian('1402/10/25');
```

## API Reference

### Python API

#### `convert_to_jalali(gregorian_date)`
```python
from jalali_calendar.jalali_calendar.api_enhanced import convert_to_jalali

result = convert_to_jalali("2024-01-15")
# Returns: {
#     'date': '1402/10/25',
#     'year': 1402,
#     'month': 10,
#     'day': 25,
#     'month_name': 'Ø¯ÛŒ'
# }
```

#### `convert_to_gregorian(jalali_date_str)`
```python
from jalali_calendar.jalali_calendar.api_enhanced import convert_to_gregorian

result = convert_to_gregorian("1402/10/25")
# Returns: "2024-01-15"
```

#### `validate_jalali_date(jalali_date_str)`
```python
result = validate_jalali_date("1402/13/01")
# Returns: {"valid": False, "error": "Ù…Ø§Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 1 ØªØ§ 12 Ø¨Ø§Ø´Ø¯"}
```

### JavaScript API

#### ØªØ¨Ø¯ÛŒÙ„ ØªØ§Ø±ÛŒØ®
```javascript
// Ø¨Ù‡ Ø´Ù…Ø³ÛŒ
jalali_calendar.sync_convert_to_jalali('2024-01-15');

// Ø¨Ù‡ Ù…ÛŒÙ„Ø§Ø¯ÛŒ
jalali_calendar.sync_convert_to_gregorian('1402/10/25');
```

#### Ù†Ù…Ø§ÛŒØ´ ØªÙ‚ÙˆÛŒÙ…
```javascript
// ØªÙ‚ÙˆÛŒÙ… Ù…Ø§Ù‡
jalali_calendar.show_month_calendar();

// Range Picker
jalali_calendar.show_range_picker(function(from, to) {
    console.log('Selected range:', from, to);
});
```

### REST API

#### Endpoints
```
POST /api/method/jalali_calendar.jalali_calendar.api_enhanced.convert_to_jalali
POST /api/method/jalali_calendar.jalali_calendar.api_enhanced.convert_to_gregorian
GET  /api/method/jalali_calendar.jalali_calendar.api_enhanced.get_holidays
```

## Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
1. Ø¨Ø±Ø±Ø³ÛŒ Console Ø¨Ø±Ø§ÛŒ Ø®Ø·Ø§Ù‡Ø§ÛŒ JavaScript
2. Ø¨Ø±Ø±Ø³ÛŒ ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Ø¯Ø± Settings
3. Clear cache: `bench clear-cache`

### Datepicker Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
1. Ø¨Ø±Ø±Ø³ÛŒ Ù„ÙˆØ¯ Ø´Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ JS/CSS
2. Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ ÙØ§ÛŒÙ„ persianDatepicker.min.js

### ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ØªØ¨Ø§Ù‡
1. Ø¨Ø±Ø±Ø³ÛŒ ÙØ±Ù…Øª ØªØ§Ø±ÛŒØ® ÙˆØ±ÙˆØ¯ÛŒ
2. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² validate_jalali_date
3. Ø¨Ø±Ø±Ø³ÛŒ logs: `bench --site your-site console`

## ØªÙˆØ³Ø¹Ù‡

### Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡
```
jalali_calendar/
â”œâ”€â”€ jalali_calendar/
â”‚   â”œâ”€â”€ api_enhanced.py          # API functions
â”‚   â”œâ”€â”€ doctype/                 # DocTypes
â”‚   â”‚   â”œâ”€â”€ jalali_calendar_settings/
â”‚   â”‚   â””â”€â”€ jalali_holiday/
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ date_converter.py    # Date conversion
â”‚   â”‚   â”œâ”€â”€ print_handler.py     # Print handling
â”‚   â”‚   â””â”€â”€ jinja_filters.py     # Template filters
â”‚   â”œâ”€â”€ report_handler.py        # Report integration
â”‚   â”œâ”€â”€ tasks.py                 # Scheduled tasks
â”‚   â””â”€â”€ install.py               # Installation scripts
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ jalali_calendar_enhanced.js
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ jalali_calendar.css
â””â”€â”€ hooks_enhanced.py            # App hooks
```

### Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ø¬Ø¯ÛŒØ¯

#### 1. Backend (Python)
```python
# Ø¯Ø± api_enhanced.py
@frappe.whitelist()
def your_new_function(param):
    # Your code here
    return result
```

#### 2. Frontend (JavaScript)
```javascript
// Ø¯Ø± jalali_calendar_enhanced.js
jalali_calendar.your_feature = function() {
    // Your code here
};
```

#### 3. Hook Ø¬Ø¯ÛŒØ¯
```python
# Ø¯Ø± hooks_enhanced.py
doc_events = {
    "Your DocType": {
        "your_event": "jalali_calendar.path.to.handler"
    }
}
```

## Ù…Ø´Ø§Ø±Ú©Øª

Pull requests are welcome! Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø²Ø±Ú¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ issue Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯.

## Ù„Ø§ÛŒØ³Ù†Ø³

MIT License - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¢Ø²Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ø®ØµÛŒ Ùˆ ØªØ¬Ø§Ø±ÛŒ

Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„ØŒ ÙØ§ÛŒÙ„ [LICENSE](LICENSE) Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

### Third-Party Libraries:
- Moment-Jalaali (MIT)
- PersianDatepicker (MIT)
- PersianTools (MIT)
- JDatetime (BSD)
- Vazir Font (SIL Open Font License)

## Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

- ğŸ“§ Email: support@yourcompany.com
- ğŸ’¬ Forum: discuss.erpnext.com
- ğŸ› Issues: GitHub Issues

## ØªØ´Ú©Ø± Ø§Ø²

- ØªÛŒÙ… Frappe/ERPNext
- ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† persiantools
- Ø¬Ø§Ù…Ø¹Ù‡ Open Source Ø§ÛŒØ±Ø§Ù†

---

Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ERPNext Ø§ÛŒØ±Ø§Ù†
